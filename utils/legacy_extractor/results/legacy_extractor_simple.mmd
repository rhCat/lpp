stateDiagram-v2
    %% L++ State Diagram: Legacy Code State Machine Extractor
    [*] --> idle
    idle --> idle : SET_MODE
    idle --> loading : EXTRACT [filePath is not None and le...]
    loading --> error : AUTO [error is not None and len(e...]
    loading --> parsing : AUTO [sourceCode is not None and ... && error is None or len(error)...]
    parsing --> error : AUTO [error is not None and len(e...]
    parsing --> detecting : AUTO [ast is not None && error is None or len(error)...]
    detecting --> extracting_states : AUTO [patterns is not None]
    extracting_states --> extracting_transitions : AUTO [extractedStates is not None...]
    extracting_transitions --> extracting_gates : AUTO [extractedTransitions is not...]
    extracting_gates --> extracting_actions : AUTO [extractedGates is not None]
    extracting_actions --> analyzing_events : AUTO [extractedActions is not None]
    analyzing_events --> inferring_entry : AUTO [extractedEvents is not None]
    inferring_entry --> generating : AUTO [entryState is not None]
    generating --> mapping : AUTO [blueprint is not None]
    mapping --> complete : AUTO [sourceMapping is not None]
    complete --> complete : EXPORT_BLUEPRINT [blueprint is not None]
    complete --> complete : EXPORT_REPORT
    complete --> idle : RESET
    error --> idle : RESET