flowchart TD
    %% L++ Logic CAD Export
    state_idle(["<b>idle</b><br/>Ready to scan"]):::entry
    state_error(["<b>error</b><br/>Error occurred"])
    state_scanned(["<b>scanned</b><br/>Skills discovered"])
    state_viewing(["<b>viewing</b><br/>Viewing skill detail"])
    act_t_0_0[["setBasePath, scanSkills"]]
    state_idle -- "SCAN" --> act_t_0_0
    act_t_0_0 --> state_scanned
    act_t_1_0[["clearSelection, setBasePath, scanSkills"]]
    state_scanned -- "SCAN" --> act_t_1_0
    act_t_1_0 --> state_scanned
    act_t_2_0[["loadSkillDetail"]]
    state_scanned -- "SELECT" --> act_t_2_0
    act_t_2_0 --> state_viewing
    act_t_3_0[["clearSelection"]]
    state_viewing -- "BACK" --> act_t_3_0
    act_t_3_0 --> state_scanned
    act_t_4_0[["loadSkillDetail"]]
    state_viewing -- "SELECT" --> act_t_4_0
    act_t_4_0 --> state_viewing
    act_t_5_0[["exportRegistry"]]
    state_scanned -- "EXPORT" --> act_t_5_0
    act_t_5_0 --> state_scanned
    act_t_6_0[["exportRegistry"]]
    state_viewing -- "EXPORT" --> act_t_6_0
    act_t_6_0 --> state_viewing
    act_t_7_0[["clearSelection"]]
    state_scanned -- "RESET" --> act_t_7_0
    act_t_7_0 --> state_idle
    act_t_8_0[["clearError"]]
    state_error -- "RETRY" --> act_t_8_0
    act_t_8_0 --> state_idle
    gate_t_9_0{{"hasError?"}}
    state_idle -- "ERROR" --> gate_t_9_0
    act_t_9_0[["log_error"]]
    gate_t_9_0 -- True --> act_t_9_0
    act_t_9_0 --> state_error
    gate_t_10_0{{"hasError?"}}
    state_scanned -- "ERROR" --> gate_t_10_0
    act_t_10_0[["log_error"]]
    gate_t_10_0 -- True --> act_t_10_0
    act_t_10_0 --> state_error
    classDef entry fill:#e1f5fe,stroke:#01579b,stroke-width:4px
    classDef terminal fill:#eceff1,stroke:#263238,stroke-width:4px