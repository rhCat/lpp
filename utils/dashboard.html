<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>L++ Tools Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background: #0f0f23;
    color: #ccc;
    min-height: 100vh;
}

/* Header */
.header {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    padding: 30px 40px;
    border-bottom: 1px solid #333;
}
.header h1 {
    color: #00d4ff;
    font-size: 32px;
    margin-bottom: 8px;
}
.header .subtitle {
    color: #888;
    font-size: 14px;
}

/* Stats Bar */
.stats-bar {
    display: flex;
    gap: 30px;
    padding: 20px 40px;
    background: #16213e;
    border-bottom: 1px solid #333;
    flex-wrap: wrap;
}
.stat-item {
    text-align: center;
}
.stat-value {
    font-size: 28px;
    font-weight: bold;
    color: #00d4ff;
}
.stat-label {
    font-size: 12px;
    color: #888;
    text-transform: uppercase;
}

/* Controls */
.controls {
    padding: 20px 40px;
    background: #1a1a2e;
    border-bottom: 1px solid #333;
    display: flex;
    gap: 20px;
    align-items: center;
    flex-wrap: wrap;
}
.search-box {
    flex: 1;
    min-width: 250px;
    max-width: 400px;
}
.search-box input {
    width: 100%;
    padding: 10px 15px;
    background: #0f0f23;
    border: 1px solid #333;
    border-radius: 6px;
    color: #fff;
    font-size: 14px;
}
.search-box input:focus {
    outline: none;
    border-color: #00d4ff;
}
.filter-buttons {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}
.filter-btn {
    padding: 8px 16px;
    background: #2a2a4a;
    border: 1px solid #444;
    border-radius: 4px;
    color: #ccc;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.2s;
}
.filter-btn:hover {
    background: #3a3a5a;
}
.filter-btn.active {
    background: #00d4ff;
    color: #000;
    border-color: #00d4ff;
}

/* Main content */
.main {
    display: flex;
    min-height: calc(100vh - 250px);
}

/* Sidebar */
.sidebar {
    width: 280px;
    background: #16213e;
    border-right: 1px solid #333;
    padding: 20px;
    overflow-y: auto;
    max-height: calc(100vh - 250px);
}
.sidebar h3 {
    color: #00d4ff;
    font-size: 14px;
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 1px solid #333;
}
.category-item {
    padding: 8px 12px;
    margin-bottom: 4px;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background 0.2s;
}
.category-item:hover {
    background: #2a2a4a;
}
.category-item.active {
    background: #00d4ff;
    color: #000;
}
.category-count {
    background: #333;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 11px;
}
.category-item.active .category-count {
    background: rgba(0,0,0,0.3);
}

/* Content area */
.content {
    flex: 1;
    padding: 30px;
    overflow-y: auto;
    max-height: calc(100vh - 250px);
}
.content h2 {
    color: #fff;
    margin-bottom: 20px;
    font-size: 20px;
}
.tools-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 20px;
}

/* Tool Card */
.tool-card {
    background: #1a1a2e;
    border: 1px solid #333;
    border-radius: 8px;
    overflow: hidden;
    transition: all 0.3s;
}
.tool-card:hover {
    border-color: #00d4ff;
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(0, 212, 255, 0.1);
}
.tool-card.expanded {
    grid-column: span 2;
}
.card-header {
    padding: 15px 20px;
    background: #16213e;
    border-bottom: 1px solid #333;
    cursor: pointer;
}
.card-title {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.card-title h3 {
    color: #00d4ff;
    font-size: 16px;
    margin: 0;
}
.card-version {
    color: #666;
    font-size: 11px;
}
.card-description {
    color: #888;
    font-size: 13px;
    margin-top: 8px;
    line-height: 1.4;
}

/* Card Stats */
.card-stats {
    display: flex;
    gap: 15px;
    padding: 12px 20px;
    border-bottom: 1px solid #333;
    background: rgba(0, 212, 255, 0.03);
}
.card-stat {
    text-align: center;
}
.card-stat-value {
    font-size: 18px;
    font-weight: bold;
    color: #fff;
}
.card-stat-label {
    font-size: 10px;
    color: #666;
    text-transform: uppercase;
}

/* Card Links */
.card-links {
    padding: 12px 20px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}
.viz-link {
    padding: 6px 12px;
    background: #2a2a4a;
    border: 1px solid #444;
    border-radius: 4px;
    color: #ccc;
    text-decoration: none;
    font-size: 11px;
    transition: all 0.2s;
}
.viz-link:hover {
    background: #3a3a5a;
    border-color: #00d4ff;
    color: #00d4ff;
}
.viz-link.disabled {
    opacity: 0.4;
    pointer-events: none;
}
.viz-link.state { border-left: 3px solid #4ecdc4; }
.viz-link.logic { border-left: 3px solid #f39c12; }
.viz-link.functions { border-left: 3px solid #9b59b6; }
.viz-link.mermaid { border-left: 3px solid #e74c3c; }

/* Card Details (expandable) */
.card-details {
    display: none;
    padding: 15px 20px;
    border-top: 1px solid #333;
}
.tool-card.expanded .card-details {
    display: block;
}
.detail-section {
    margin-bottom: 15px;
}
.detail-section h4 {
    color: #888;
    font-size: 11px;
    text-transform: uppercase;
    margin-bottom: 8px;
}
.states-list {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}
.state-tag {
    padding: 4px 10px;
    background: #2a2a4a;
    border-radius: 12px;
    font-size: 11px;
    color: #ccc;
}
.state-tag.entry { background: #00d4ff; color: #000; }
.state-tag.terminal { background: #ff6b6b; color: #fff; }

/* Mermaid Preview */
.mermaid-preview {
    background: #0d0d1a;
    border: 1px solid #333;
    border-radius: 4px;
    padding: 15px;
    overflow-x: auto;
    margin-top: 10px;
}
.mermaid-preview .mermaid {
    text-align: center;
}
.mermaid-preview svg {
    max-width: 100%;
}

/* Empty state */
.empty-state {
    text-align: center;
    padding: 60px 20px;
    color: #666;
}
.empty-state h3 {
    margin-bottom: 10px;
    color: #888;
}

/* Responsive */
@media (max-width: 900px) {
    .main {
        flex-direction: column;
    }
    .sidebar {
        width: 100%;
        max-height: none;
        border-right: none;
        border-bottom: 1px solid #333;
    }
    .tools-grid {
        grid-template-columns: 1fr;
    }
    .tool-card.expanded {
        grid-column: span 1;
    }
}
</style>
</head>
<body>
<div class="header">
    <h1>L++ Tools Dashboard</h1>
    <div class="subtitle">Interactive overview of all L++ utility blueprints and visualizations</div>
</div>

<div class="stats-bar" id="stats-bar"></div>

<div class="controls">
    <div class="search-box">
        <input type="text" id="search-input" placeholder="Search tools by name or description..." oninput="filterTools()">
    </div>
    <div class="filter-buttons">
        <button class="filter-btn active" data-filter="all" onclick="setFilter('all')">All Tools</button>
        <button class="filter-btn" data-filter="with-viz" onclick="setFilter('with-viz')">With Visualizations</button>
        <button class="filter-btn" data-filter="blueprint" onclick="setFilter('blueprint')">Blueprint Tools</button>
    </div>
</div>

<div class="main">
    <div class="sidebar">
        <h3>Categories</h3>
        <div id="categories-list"></div>
    </div>
    <div class="content">
        <h2 id="content-title">All Tools</h2>
        <div class="tools-grid" id="tools-grid"></div>
    </div>
</div>

<script>
// Initialize mermaid
mermaid.initialize({
    startOnLoad: false,
    theme: 'dark',
    themeVariables: {
        primaryColor: '#16213e',
        primaryTextColor: '#fff',
        primaryBorderColor: '#333',
        lineColor: '#00d4ff',
        secondaryColor: '#1a1a2e',
        tertiaryColor: '#0f0f23'
    }
});

// Data from Python
const tools = [{"id": "blueprint_composer", "name": "L++ Blueprint Composer", "description": "Hierarchical composition tool for L++ blueprints - embeds sub-blueprints as macro states", "version": "1.0.0", "stats": {"statesCount": 8, "transitionsCount": 28, "gatesCount": 11, "actionsCount": 21, "entryState": "idle", "terminalStates": []}, "states": ["idle", "parent_loaded", "child_loaded", "defining_embedding", "embedding_ready", "composed", "validated", "error"], "visualizations": {"stateGraph": "blueprint_composer/results/blueprint_composer_graph.html", "logicGraph": "blueprint_composer/results/blueprint_composer_logic_graph.html", "functionsGraph": "blueprint_composer/results/blueprint_composer_functions.html", "mermaidDiagram": "blueprint_composer/results/blueprint_composer_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Blueprint Composer\n    [*] --> idle\n    idle --> parent_loaded : LOAD_PARENT\n    idle --> composed : LOAD_MANIFEST\n    parent_loaded --> child_loaded : LOAD_CHILD [parent_blueprint is not None]\n    parent_loaded --> parent_loaded : LOAD_PARENT\n    child_loaded --> child_loaded : LOAD_CHILD\n    child_loaded --> defining_embedding : DEFINE [parent_blueprint is not Non...]\n    defining_embedding --> defining_embedding : SET_INPUT [current_embedding is not None]\n    defining_embedding --> defining_embedding : SET_OUTPUT [current_embedding is not None]\n    defining_embedding --> defining_embedding : SET_EVENTS [current_embedding is not None]\n    defining_embedding --> embedding_ready : DONE [current_embedding is not None]\n    embedding_ready --> child_loaded : ADD_MORE\n    embedding_ready --> composed : COMPOSE [embeddings is not None and ...]\n    child_loaded --> composed : QUICK_COMPOSE [parent_blueprint is not Non...]\n    composed --> validated : VALIDATE [composed_blueprint is not None]\n    composed --> composed : FLATTEN [composed_blueprint is not None]\n    composed --> composed : EXPORT [composed_blueprint is not None]\n    validated --> validated : EXPORT [composed_blueprint is not None]\n    embedding_ready --> embedding_ready : SAVE_MANIFEST [embeddings is not None and ... && parent_blueprint is not Non...]\n    validated --> validated : VALIDATE [composed_blueprint is not None]\n    validated --> composed : BACK\n    composed --> embedding_ready : BACK\n    defining_embedding --> child_loaded : CANCEL\n    composed --> idle : RESET\n    validated --> idle : RESET\n    parent_loaded --> idle : CLEAR\n    child_loaded --> idle : CLEAR\n    error --> idle : CLEAR\n    idle --> error : LOAD_FAILED\n    composed --> error : LOAD_FAILED\n    parent_loaded --> error : LOAD_FAILED\n    embedding_ready --> error : LOAD_FAILED\n    validated --> error : LOAD_FAILED\n    child_loaded --> error : LOAD_FAILED\n    defining_embedding --> error : LOAD_FAILED", "blueprintPath": "blueprint_composer/blueprint_composer.json", "dir": "blueprint_composer"}, {"id": "blueprint_debugger", "name": "L++ Blueprint Debugger", "description": "Step-through debugging for L++ blueprints with breakpoints, inspection, and time-travel debugging", "version": "1.0.0", "stats": {"statesCount": 5, "transitionsCount": 49, "gatesCount": 15, "actionsCount": 27, "entryState": "idle", "terminalStates": []}, "states": ["idle", "loaded", "debugging", "paused", "error"], "visualizations": {"stateGraph": "blueprint_debugger/results/blueprint_debugger_graph.html", "logicGraph": "blueprint_debugger/results/blueprint_debugger_logic_graph.html", "functionsGraph": "blueprint_debugger/results/blueprint_debugger_functions.html", "mermaidDiagram": "blueprint_debugger/results/blueprint_debugger_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Blueprint Debugger\n    [*] --> idle\n    idle --> loaded : LOAD [blueprint is None]\n    idle --> error : LOAD_FAILED\n    loaded --> loaded : LOAD\n    debugging --> loaded : LOAD\n    loaded --> debugging : START [blueprint is not None]\n    loaded --> loaded : SET_BREAKPOINT\n    debugging --> debugging : SET_BREAKPOINT\n    paused --> paused : SET_BREAKPOINT\n    debugging --> debugging : REMOVE_BREAKPOINT\n    paused --> paused : REMOVE_BREAKPOINT\n    debugging --> debugging : LIST_BREAKPOINTS\n    paused --> paused : LIST_BREAKPOINTS\n    debugging --> debugging : STEP [is_paused != True]\n    debugging --> paused : STEP_HIT_BP\n    debugging --> debugging : STEP_OVER [is_paused != True]\n    debugging --> debugging : STEP_BACK [history is not None and his...]\n    paused --> debugging : STEP_BACK [history is not None and his...]\n    debugging --> debugging : RUN\n    debugging --> paused : RUN_HIT_BP\n    paused --> debugging : CONTINUE\n    paused --> debugging : RUN\n    debugging --> paused : PAUSE\n    debugging --> loaded : STOP\n    paused --> loaded : STOP\n    debugging --> debugging : INSPECT_STATE\n    paused --> paused : INSPECT_STATE\n    debugging --> debugging : INSPECT_CONTEXT\n    paused --> paused : INSPECT_CONTEXT\n    debugging --> debugging : EVAL\n    paused --> paused : EVAL\n    debugging --> debugging : ADD_WATCH\n    paused --> paused : ADD_WATCH\n    debugging --> debugging : REMOVE_WATCH\n    debugging --> debugging : GET_WATCHES\n    paused --> paused : GET_WATCHES\n    debugging --> debugging : HISTORY\n    paused --> paused : HISTORY\n    debugging --> debugging : GOTO [history is not None and len...]\n    paused --> debugging : GOTO [history is not None and len...]\n    debugging --> debugging : COMPARE\n    paused --> paused : COMPARE\n    debugging --> debugging : RESET\n    paused --> debugging : RESET\n    debugging --> debugging : STATUS\n    paused --> paused : STATUS\n    loaded --> idle : UNLOAD\n    debugging --> idle : UNLOAD\n    paused --> idle : UNLOAD\n    error --> idle : CLEAR", "blueprintPath": "blueprint_debugger/blueprint_debugger.json", "dir": "blueprint_debugger"}, {"id": "blueprint_differ", "name": "L++ Blueprint Diff & Merge", "description": "Semantic diff and merge tool for L++ blueprints", "version": "1.0.0", "stats": {"statesCount": 9, "transitionsCount": 28, "gatesCount": 10, "actionsCount": 18, "entryState": "idle", "terminalStates": []}, "states": ["idle", "left_loaded", "ready", "diffing", "diff_complete", "merging", "merge_complete", "conflict", "error"], "visualizations": {"stateGraph": "blueprint_differ/results/blueprint_differ_graph.html", "logicGraph": "blueprint_differ/results/blueprint_differ_logic_graph.html", "functionsGraph": "blueprint_differ/results/blueprint_differ_functions.html", "mermaidDiagram": "blueprint_differ/results/blueprint_differ_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Blueprint Diff & Merge\n    [*] --> idle\n    idle --> left_loaded : LOAD_LEFT\n    left_loaded --> ready : LOAD_RIGHT\n    ready --> ready : LOAD_BASE\n    ready --> ready : LOAD_LEFT\n    ready --> ready : LOAD_RIGHT\n    ready --> diffing : DIFF [blueprint_left is not None ...]\n    diffing --> diff_complete : DIFF_DONE\n    ready --> diff_complete : DIFF_ALL [blueprint_left is not None ...]\n    diff_complete --> diff_complete : SHOW_SUMMARY [diff_result is not None]\n    diff_complete --> diff_complete : SHOW_UNIFIED [diff_result is not None]\n    diff_complete --> diff_complete : SHOW_PATCH [diff_result is not None]\n    diff_complete --> merging : MERGE [diff_result is not None]\n    merging --> merge_complete : MERGE_AUTO [conflicts is None or len(co...]\n    merging --> conflict : CONFLICT_DETECTED [conflicts is not None and l...]\n    conflict --> merge_complete : TAKE_LEFT\n    conflict --> merge_complete : TAKE_RIGHT\n    diff_complete --> merge_complete : MERGE_LEFT [diff_result is not None]\n    diff_complete --> merge_complete : MERGE_RIGHT [diff_result is not None]\n    merge_complete --> merge_complete : EXPORT [merged_blueprint is not None]\n    merge_complete --> diff_complete : BACK\n    conflict --> diff_complete : BACK\n    diff_complete --> diff_complete : DIFF_ALL\n    diff_complete --> ready : RESET\n    ready --> idle : CLEAR\n    diff_complete --> idle : CLEAR\n    merge_complete --> idle : CLEAR\n    error --> idle : CLEAR\n    idle --> error : LOAD_FAILED\n    left_loaded --> error : LOAD_FAILED\n    ready --> error : LOAD_FAILED\n    diff_complete --> error : LOAD_FAILED\n    diffing --> error : LOAD_FAILED\n    merge_complete --> error : LOAD_FAILED\n    merging --> error : LOAD_FAILED\n    conflict --> error : LOAD_FAILED", "blueprintPath": "blueprint_differ/blueprint_differ.json", "dir": "blueprint_differ"}, {"id": "blueprint_linter", "name": "L++ Blueprint Linter", "description": "Static analysis tool for L++ blueprints - detects issues and suggests improvements", "version": "1.0.0", "stats": {"statesCount": 5, "transitionsCount": 24, "gatesCount": 5, "actionsCount": 20, "entryState": "idle", "terminalStates": []}, "states": ["idle", "loaded", "linting", "complete", "error"], "visualizations": {"stateGraph": "blueprint_linter/results/blueprint_linter_graph.html", "logicGraph": "blueprint_linter/results/blueprint_linter_logic_graph.html", "functionsGraph": "blueprint_linter/results/blueprint_linter_functions.html", "mermaidDiagram": "blueprint_linter/results/blueprint_linter_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Blueprint Linter\n    [*] --> idle\n    idle --> loaded : LOAD [blueprint is None]\n    idle --> error : LOAD_FAILED\n    loaded --> loaded : LOAD\n    complete --> loaded : LOAD\n    loaded --> linting : LINT [blueprint is not None]\n    linting --> linting : CHECK_UNREACHABLE\n    linting --> linting : CHECK_DEAD_END\n    linting --> linting : CHECK_UNUSED_GATES\n    linting --> linting : CHECK_UNUSED_ACTIONS\n    linting --> linting : CHECK_UNUSED_CONTEXT\n    linting --> linting : CHECK_ORPHANED\n    linting --> linting : CHECK_GATE_REFS\n    linting --> linting : CHECK_ACTION_REFS\n    linting --> linting : CHECK_DUPLICATES\n    linting --> linting : CHECK_NAMING\n    linting --> complete : FINALIZE\n    loaded --> complete : LINT_ALL [blueprint is not None]\n    complete --> complete : LINT_ALL [blueprint is not None]\n    complete --> loaded : BACK\n    loaded --> idle : UNLOAD\n    complete --> idle : UNLOAD\n    idle --> idle : CONFIGURE\n    loaded --> loaded : CONFIGURE\n    error --> idle : CLEAR", "blueprintPath": "blueprint_linter/blueprint_linter.json", "dir": "blueprint_linter"}, {"id": "blueprint_playground", "name": "L++ Blueprint Playground", "description": "Interactive web-based environment for editing and testing L++ blueprints", "version": "1.0.0", "stats": {"statesCount": 4, "transitionsCount": 21, "gatesCount": 10, "actionsCount": 17, "entryState": "idle", "terminalStates": []}, "states": ["idle", "editing", "simulating", "error"], "visualizations": {"stateGraph": "blueprint_playground/results/blueprint_playground_graph.html", "logicGraph": "blueprint_playground/results/blueprint_playground_logic_graph.html", "functionsGraph": "blueprint_playground/results/blueprint_playground_functions.html", "mermaidDiagram": "blueprint_playground/results/blueprint_playground_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Blueprint Playground\n    [*] --> idle\n    idle --> editing : LOAD\n    idle --> editing : LOAD_FROM_URL\n    editing --> editing : LOAD\n    editing --> editing : UPDATE [True]\n    editing --> editing : VALIDATE [blueprint_json is not None ...]\n    editing --> editing : FORMAT [blueprint_json is not None ... && is_valid_json is not None a...]\n    editing --> editing : REGENERATE_DIAGRAM [blueprint_json is not None ... && is_valid_blueprint is not N...]\n    editing --> simulating : START_SIM [blueprint_json is not None ... && is_valid_blueprint is not N...]\n    simulating --> simulating : DISPATCH [sim_state is not None]\n    simulating --> simulating : RESET_SIM\n    simulating --> editing : STOP_SIM\n    editing --> editing : SHARE [blueprint_json is not None ...]\n    simulating --> simulating : SHARE [blueprint_json is not None ...]\n    editing --> editing : EXPORT [blueprint_json is not None ...]\n    simulating --> simulating : EXPORT [blueprint_json is not None ...]\n    editing --> idle : UNLOAD\n    simulating --> idle : UNLOAD\n    editing --> error : ERROR\n    simulating --> error : ERROR\n    error --> idle : CLEAR\n    error --> editing : RETRY [blueprint_json is not None ...]", "blueprintPath": "blueprint_playground/blueprint_playground.json", "dir": "blueprint_playground"}, {"id": "blueprint_registry", "name": "L++ Blueprint Registry", "description": "Centralized blueprint management with version control, dependency tracking, and discovery", "version": "1.0.0", "stats": {"statesCount": 6, "transitionsCount": 29, "gatesCount": 12, "actionsCount": 24, "entryState": "idle", "terminalStates": []}, "states": ["idle", "ready", "viewing", "searching", "comparing", "error"], "visualizations": {"stateGraph": "blueprint_registry/results/blueprint_registry_graph.html", "logicGraph": "blueprint_registry/results/blueprint_registry_logic_graph.html", "functionsGraph": "blueprint_registry/results/blueprint_registry_functions.html", "mermaidDiagram": "blueprint_registry/results/blueprint_registry_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Blueprint Registry\n    [*] --> idle\n    idle --> ready : INIT\n    idle --> ready : LOAD\n    ready --> ready : LOAD\n    ready --> ready : REGISTER [index is not None]\n    ready --> ready : UPDATE [index is not None && True]\n    viewing --> viewing : UPDATE [current_blueprint is not None && True]\n    ready --> viewing : GET [index is not None]\n    viewing --> viewing : GET\n    ready --> searching : LIST [index is not None]\n    ready --> searching : SEARCH [index is not None]\n    searching --> searching : SEARCH\n    searching --> viewing : SELECT [search_results is not None ...]\n    viewing --> viewing : VERSIONS [current_blueprint is not None]\n    viewing --> comparing : COMPARE [version_history is not None...]\n    comparing --> comparing : COMPARE\n    viewing --> viewing : ROLLBACK [version_history is not None...]\n    viewing --> viewing : DEPS [current_blueprint is not None]\n    viewing --> viewing : CHECK_DEPS [current_blueprint is not None]\n    viewing --> viewing : DEPRECATE [current_blueprint is not None && current_blueprint is not No...]\n    viewing --> ready : DELETE [current_blueprint is not None && True]\n    ready --> ready : DELETE [index is not None && True]\n    ready --> ready : EXPORT [index is not None]\n    viewing --> viewing : EXPORT\n    ready --> ready : STATS [index is not None]\n    viewing --> ready : BACK\n    searching --> ready : BACK\n    comparing --> viewing : BACK\n    error --> idle : CLEAR\n    idle --> error : LOAD_FAILED\n    ready --> error : LOAD_FAILED\n    searching --> error : LOAD_FAILED\n    viewing --> error : LOAD_FAILED\n    comparing --> error : LOAD_FAILED", "blueprintPath": "blueprint_registry/blueprint_registry.json", "dir": "blueprint_registry"}, {"id": "compliance_checker", "name": "L++ Compliance Checker", "description": "Verifies L++ blueprints against compliance policies", "version": "1.0.0", "stats": {"statesCount": 6, "transitionsCount": 23, "gatesCount": 14, "actionsCount": 16, "entryState": "idle", "terminalStates": []}, "states": ["idle", "blueprint_loaded", "ready", "checking", "report_ready", "error"], "visualizations": {"stateGraph": "compliance_checker/results/compliance_checker_graph.html", "logicGraph": "compliance_checker/results/compliance_checker_logic_graph.html", "functionsGraph": "compliance_checker/results/compliance_checker_functions.html", "mermaidDiagram": "compliance_checker/results/compliance_checker_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Compliance Checker\n    [*] --> idle\n    idle --> blueprint_loaded : LOAD_BLUEPRINT [blueprint is None]\n    idle --> error : LOAD_FAILED\n    blueprint_loaded --> blueprint_loaded : LOAD_BLUEPRINT\n    ready --> ready : LOAD_BLUEPRINT\n    report_ready --> ready : LOAD_BLUEPRINT\n    blueprint_loaded --> ready : LOAD_POLICIES [blueprint is not None]\n    blueprint_loaded --> ready : LOAD_POLICY [blueprint is not None]\n    ready --> ready : LOAD_POLICIES\n    report_ready --> ready : LOAD_POLICIES\n    ready --> ready : LOAD_POLICY\n    ready --> checking : CHECK [blueprint is not None && policies is not None and le...]\n    ready --> checking : CHECK_POLICY [blueprint is not None]\n    checking --> report_ready : GENERATE_REPORT [findings is not None and le...]\n    checking --> report_ready : AUTO\n    report_ready --> report_ready : EXPORT [report is not None]\n    report_ready --> checking : CHECK [blueprint is not None && policies is not None and le...]\n    report_ready --> ready : BACK\n    ready --> blueprint_loaded : BACK\n    blueprint_loaded --> idle : UNLOAD\n    ready --> idle : UNLOAD\n    report_ready --> idle : UNLOAD\n    error --> idle : CLEAR\n    idle --> error : ERROR\n    blueprint_loaded --> error : ERROR\n    ready --> error : ERROR\n    checking --> error : ERROR\n    report_ready --> error : ERROR", "blueprintPath": "compliance_checker/compliance_checker.json", "dir": "compliance_checker"}, {"id": "coverage_analyzer", "name": "L++ Coverage Analyzer", "description": "Tracks runtime coverage of blueprints during execution", "version": "1.0.0", "stats": {"statesCount": 6, "transitionsCount": 37, "gatesCount": 13, "actionsCount": 18, "entryState": "idle", "terminalStates": []}, "states": ["idle", "loaded", "tracking", "analyzing", "reporting", "error"], "visualizations": {"stateGraph": "coverage_analyzer/results/coverage_analyzer_graph.html", "logicGraph": "coverage_analyzer/results/coverage_analyzer_logic_graph.html", "functionsGraph": "coverage_analyzer/results/coverage_analyzer_functions.html", "mermaidDiagram": "coverage_analyzer/results/coverage_analyzer_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Coverage Analyzer\n    [*] --> idle\n    idle --> loaded : LOAD [blueprint is None]\n    loaded --> loaded : LOAD\n    tracking --> loaded : LOAD\n    analyzing --> loaded : LOAD\n    reporting --> loaded : LOAD\n    loaded --> tracking : START [blueprint is not None]\n    tracking --> tracking : STATE\n    tracking --> tracking : TRANSITION\n    tracking --> tracking : GATE\n    tracking --> tracking : ACTION\n    tracking --> tracking : EVENT\n    loaded --> tracking : IMPORT [blueprint is not None && blueprint is not None]\n    tracking --> tracking : IMPORT [blueprint is not None]\n    tracking --> analyzing : ANALYZE [coverage_data is not None]\n    loaded --> analyzing : ANALYZE [blueprint is not None]\n    analyzing --> reporting : SUMMARY [metrics is not None]\n    analyzing --> reporting : DETAILED [metrics is not None]\n    analyzing --> reporting : GAP [metrics is not None]\n    analyzing --> reporting : ALL_REPORTS [metrics is not None]\n    reporting --> reporting : EXPORT_HTML [metrics is not None]\n    analyzing --> reporting : EXPORT_HTML [metrics is not None]\n    reporting --> reporting : EXPORT_JSON [metrics is not None]\n    analyzing --> reporting : EXPORT_JSON [metrics is not None]\n    reporting --> reporting : SUMMARY [metrics is not None]\n    reporting --> reporting : DETAILED [metrics is not None]\n    reporting --> reporting : GAP [metrics is not None]\n    tracking --> loaded : RESET\n    analyzing --> loaded : RESET\n    reporting --> loaded : RESET\n    analyzing --> tracking : BACK\n    reporting --> analyzing : BACK\n    loaded --> idle : UNLOAD\n    tracking --> idle : UNLOAD\n    analyzing --> idle : UNLOAD\n    reporting --> idle : UNLOAD\n    idle --> error : ERROR\n    loaded --> error : ERROR\n    analyzing --> error : ERROR\n    tracking --> error : ERROR\n    reporting --> error : ERROR\n    error --> idle : CLEAR", "blueprintPath": "coverage_analyzer/coverage_analyzer.json", "dir": "coverage_analyzer"}, {"id": "dashboard", "name": "L++ Tools Dashboard", "description": "Aggregates and visualizes all L++ utility tools with interactive search, filtering, and quick access to visualizations.", "version": "1.0.0", "stats": {"statesCount": 7, "transitionsCount": 10, "gatesCount": 5, "actionsCount": 5, "entryState": "idle", "terminalStates": ["complete"]}, "states": ["idle", "scanning", "analyzing", "categorizing", "generating", "complete", "error"], "visualizations": {"stateGraph": "dashboard/results/dashboard_graph.html", "logicGraph": "dashboard/results/dashboard_logic_graph.html", "functionsGraph": "dashboard/results/dashboard_functions.html", "mermaidDiagram": "dashboard/results/dashboard_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Tools Dashboard\n    [*] --> idle\n    idle --> scanning : SCAN [utilsPath is not None and l...]\n    scanning --> error : AUTO [error is not None and len(e...]\n    scanning --> analyzing : AUTO [tools is not None and len(t...]\n    analyzing --> error : AUTO [error is not None and len(e...]\n    analyzing --> categorizing : AUTO [statistics is not None]\n    categorizing --> error : AUTO [error is not None and len(e...]\n    categorizing --> generating : AUTO [categories is not None]\n    generating --> error : AUTO [error is not None and len(e...]\n    generating --> complete : AUTO\n    scanning --> idle : RESET\n    analyzing --> idle : RESET\n    error --> idle : RESET\n    categorizing --> idle : RESET\n    generating --> idle : RESET\n    complete --> idle : RESET\n    complete --> [*]", "blueprintPath": "dashboard/dashboard.json", "dir": "dashboard"}, {"id": "doc_generator", "name": "L++ Documentation Generator", "description": "Auto-generates comprehensive documentation from L++ blueprints in multiple formats", "version": "1.0.0", "stats": {"statesCount": 7, "transitionsCount": 24, "gatesCount": 17, "actionsCount": 27, "entryState": "idle", "terminalStates": []}, "states": ["idle", "loaded", "generating", "assembling", "exporting", "done", "error"], "visualizations": {"stateGraph": "doc_generator/results/doc_generator_graph.html", "logicGraph": "doc_generator/results/doc_generator_logic_graph.html", "functionsGraph": "doc_generator/results/doc_generator_functions.html", "mermaidDiagram": "doc_generator/results/doc_generator_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Documentation Generator\n    [*] --> idle\n    idle --> loaded : LOAD [blueprint is None]\n    idle --> error : LOAD_FAILED\n    loaded --> loaded : LOAD\n    done --> loaded : LOAD\n    loaded --> loaded : FORMAT_MARKDOWN\n    loaded --> loaded : FORMAT_HTML\n    loaded --> loaded : FORMAT_JSON\n    loaded --> loaded : TOGGLE_MERMAID\n    loaded --> loaded : TOGGLE_TABLES\n    loaded --> loaded : TOGGLE_QUICKSTART\n    loaded --> loaded : TOGGLE_CONTEXT\n    loaded --> generating : GENERATE [blueprint is not None]\n    generating --> assembling : ASSEMBLE [output_format == 'markdown']\n    generating --> assembling : ASSEMBLE [output_format == 'html']\n    generating --> assembling : ASSEMBLE [output_format == 'json']\n    assembling --> exporting : EXPORT [assembled_doc is not None]\n    exporting --> done : DONE\n    loaded --> done : GENERATE_FULL [blueprint is not None]\n    generating --> loaded : BACK\n    assembling --> loaded : BACK\n    done --> loaded : BACK\n    loaded --> idle : UNLOAD\n    done --> idle : UNLOAD\n    error --> idle : CLEAR", "blueprintPath": "doc_generator/doc_generator.json", "dir": "doc_generator"}, {"id": "event_simulator", "name": "L++ Event Sequence Simulator", "description": "Interactive simulation of L++ blueprints for what-if analysis and state space exploration", "version": "1.0.0", "stats": {"statesCount": 4, "transitionsCount": 26, "gatesCount": 15, "actionsCount": 27, "entryState": "idle", "terminalStates": []}, "states": ["idle", "ready", "simulating", "error"], "visualizations": {"stateGraph": "event_simulator/results/event_simulator_graph.html", "logicGraph": "event_simulator/results/event_simulator_logic_graph.html", "functionsGraph": "event_simulator/results/event_simulator_functions.html", "mermaidDiagram": "event_simulator/results/event_simulator_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Event Sequence Simulator\n    [*] --> idle\n    idle --> ready : LOAD [blueprint is None]\n    idle --> error : LOAD_FAILED\n    ready --> ready : LOAD\n    simulating --> ready : LOAD\n    ready --> simulating : START [blueprint is not None]\n    simulating --> simulating : DISPATCH\n    simulating --> simulating : SET_CONTEXT\n    simulating --> simulating : REFRESH\n    simulating --> simulating : EVAL_GATES\n    simulating --> simulating : FORK\n    simulating --> simulating : SWITCH_FORK [forks is not None and len(f...]\n    simulating --> simulating : STEP_BACK [trace is not None and len(t...]\n    simulating --> simulating : SET_SEQUENCE\n    simulating --> simulating : RUN_SEQUENCE [sequence is not None and le...]\n    simulating --> simulating : FUZZ\n    simulating --> simulating : FIND_PATH\n    simulating --> simulating : EXPLORE\n    simulating --> simulating : VIEW_TRACE\n    simulating --> simulating : VIEW_SPACE [state_space is not None]\n    simulating --> simulating : EXPORT [trace is not None and len(t...]\n    simulating --> simulating : IMPORT [blueprint is not None]\n    simulating --> simulating : RESET\n    simulating --> ready : STOP\n    ready --> idle : UNLOAD\n    simulating --> idle : UNLOAD\n    error --> idle : CLEAR", "blueprintPath": "event_simulator/event_simulator.json", "dir": "event_simulator"}, {"id": "execution_tracer", "name": "L++ Execution Tracer", "description": "Structured logging and tracing for L++ blueprint execution with OpenTelemetry support", "version": "1.0.0", "stats": {"statesCount": 6, "transitionsCount": 34, "gatesCount": 14, "actionsCount": 22, "entryState": "idle", "terminalStates": []}, "states": ["idle", "configured", "tracing", "paused", "completed", "error"], "visualizations": {"stateGraph": "execution_tracer/results/execution_tracer_graph.html", "logicGraph": "execution_tracer/results/execution_tracer_logic_graph.html", "functionsGraph": "execution_tracer/results/execution_tracer_functions.html", "mermaidDiagram": "execution_tracer/results/execution_tracer_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Execution Tracer\n    [*] --> idle\n    idle --> configured : INIT\n    idle --> error : INIT_FAILED\n    configured --> configured : INIT\n    configured --> tracing : START_TRACE [config is not None]\n    idle --> tracing : START_TRACE\n    tracing --> tracing : RECORD_SPAN [trace_id is not None]\n    tracing --> tracing : START_SPAN [trace_id is not None]\n    tracing --> tracing : END_SPAN [trace_id is not None]\n    tracing --> tracing : STATE_CHANGE [trace_id is not None]\n    tracing --> tracing : GATE_EVAL [trace_id is not None]\n    tracing --> tracing : ACTION [trace_id is not None]\n    tracing --> tracing : EVENT [trace_id is not None]\n    tracing --> tracing : CONTEXT_CHANGE [trace_id is not None]\n    tracing --> paused : PAUSE\n    paused --> tracing : RESUME\n    tracing --> completed : END_TRACE [trace_id is not None]\n    paused --> completed : END_TRACE [trace_id is not None]\n    completed --> completed : FORMAT_OTLP [spans is not None and len(s...]\n    completed --> completed : FORMAT_JSONL [spans is not None and len(s...]\n    completed --> completed : FORMAT_HUMAN [spans is not None and len(s...]\n    completed --> completed : FORMAT_TIMELINE [spans is not None and len(s...]\n    completed --> completed : EXPORT\n    completed --> completed : ANALYZE [spans is not None and len(s...]\n    tracing --> tracing : STATUS\n    paused --> paused : STATUS\n    completed --> completed : STATUS\n    configured --> configured : SET_FORMAT\n    completed --> completed : SET_FORMAT\n    completed --> configured : CLEAR\n    completed --> tracing : START_TRACE [config is not None]\n    configured --> idle : RESET\n    tracing --> idle : RESET\n    completed --> idle : RESET\n    error --> idle : CLEAR", "blueprintPath": "execution_tracer/execution_tracer.json", "dir": "execution_tracer"}, {"id": "function_decoder", "name": "Python Function Decoder", "description": "Analyze Python scripts to extract inbound/outbound function interfaces and build modular dependency graphs", "version": "1.0.0", "stats": {"statesCount": 7, "transitionsCount": 10, "gatesCount": 6, "actionsCount": 9, "entryState": "idle", "terminalStates": []}, "states": ["idle", "parsing", "extracting", "tracing", "computing", "complete", "error"], "visualizations": {"stateGraph": "function_decoder/results/function_decoder_graph.html", "logicGraph": "function_decoder/results/function_decoder_logic_graph.html", "functionsGraph": "function_decoder/results/function_decoder_functions.html", "mermaidDiagram": "function_decoder/results/function_decoder_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: Python Function Decoder\n    [*] --> idle\n    idle --> parsing : DECODE [filePath is not None and le...]\n    parsing --> error : AUTO [error is not None and len(e...]\n    parsing --> extracting : AUTO [ast is not None]\n    extracting --> error : AUTO [error is not None and len(e...]\n    extracting --> tracing : AUTO [exports is not None and imp...]\n    tracing --> error : AUTO [error is not None and len(e...]\n    tracing --> computing : AUTO [internalCalls is not None]\n    computing --> error : AUTO [error is not None and len(e...]\n    computing --> complete : AUTO\n    parsing --> idle : RESET\n    error --> idle : RESET\n    extracting --> idle : RESET\n    tracing --> idle : RESET\n    computing --> idle : RESET\n    complete --> idle : RESET", "blueprintPath": "function_decoder/function_decoder.json", "dir": "function_decoder"}, {"id": "graph_visualizer", "name": "Graph Visualizer", "description": "Generates an interactive HTML/SVG state machine diagram from an L++ blueprint.", "version": "1.0.0", "stats": {"statesCount": 3, "transitionsCount": 2, "gatesCount": 1, "actionsCount": 2, "entryState": "idle", "terminalStates": ["done"]}, "states": ["idle", "generating", "done"], "visualizations": {"stateGraph": "graph_visualizer/results/graph_visualizer_graph.html", "logicGraph": "graph_visualizer/results/graph_visualizer_logic_graph.html", "functionsGraph": "graph_visualizer/results/graph_visualizer_functions.html", "mermaidDiagram": "graph_visualizer/results/graph_visualizer_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: Graph Visualizer\n    [*] --> idle\n    idle --> generating : start [has_blueprint == True]\n    generating --> done : generate\n    done --> [*]", "blueprintPath": "graph_visualizer/graph_visualizer.json", "dir": "graph_visualizer"}, {"id": "legacy_extractor", "name": "Legacy Code State Machine Extractor", "description": "Extract state machine patterns from legacy Python code and convert to L++ blueprints", "version": "1.0.0", "stats": {"statesCount": 14, "transitionsCount": 19, "gatesCount": 14, "actionsCount": 17, "entryState": "idle", "terminalStates": []}, "states": ["idle", "loading", "parsing", "detecting", "extracting_states", "extracting_transitions", "extracting_gates", "extracting_actions", "analyzing_events", "inferring_entry", "generating", "mapping", "complete", "error"], "visualizations": {"stateGraph": "legacy_extractor/results/legacy_extractor_graph.html", "logicGraph": "legacy_extractor/results/legacy_extractor_logic_graph.html", "functionsGraph": "legacy_extractor/results/legacy_extractor_functions.html", "mermaidDiagram": "legacy_extractor/results/legacy_extractor_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: Legacy Code State Machine Extractor\n    [*] --> idle\n    idle --> idle : SET_MODE\n    idle --> loading : EXTRACT [filePath is not None and le...]\n    loading --> error : AUTO [error is not None and len(e...]\n    loading --> parsing : AUTO [sourceCode is not None and ... && error is None or len(error)...]\n    parsing --> error : AUTO [error is not None and len(e...]\n    parsing --> detecting : AUTO [ast is not None && error is None or len(error)...]\n    detecting --> extracting_states : AUTO [patterns is not None]\n    extracting_states --> extracting_transitions : AUTO [extractedStates is not None...]\n    extracting_transitions --> extracting_gates : AUTO [extractedTransitions is not...]\n    extracting_gates --> extracting_actions : AUTO [extractedGates is not None]\n    extracting_actions --> analyzing_events : AUTO [extractedActions is not None]\n    analyzing_events --> inferring_entry : AUTO [extractedEvents is not None]\n    inferring_entry --> generating : AUTO [entryState is not None]\n    generating --> mapping : AUTO [blueprint is not None]\n    mapping --> complete : AUTO [sourceMapping is not None]\n    complete --> complete : EXPORT_BLUEPRINT [blueprint is not None]\n    complete --> complete : EXPORT_REPORT\n    complete --> idle : RESET\n    error --> idle : RESET", "blueprintPath": "legacy_extractor/legacy_extractor.json", "dir": "legacy_extractor"}, {"id": "llm_assistant", "name": "L++ LLM Schema Assistant", "description": "LLM-powered assistant for understanding and working with L++ blueprints. Automation agent building block.", "version": "1.0.0", "stats": {"statesCount": 4, "transitionsCount": 13, "gatesCount": 6, "actionsCount": 11, "entryState": "init", "terminalStates": []}, "states": ["init", "ready", "querying", "error"], "visualizations": {"stateGraph": "llm_assistant/results/llm_assistant_graph.html", "logicGraph": "llm_assistant/results/llm_assistant_logic_graph.html", "functionsGraph": "llm_assistant/results/llm_assistant_functions.html", "mermaidDiagram": "llm_assistant/results/llm_assistant_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ LLM Schema Assistant\n    [*] --> init\n    init --> ready : START [api_key is not None]\n    init --> error : START [api_key is None]\n    error --> init : CONFIGURE\n    ready --> init : CONFIGURE\n    querying --> init : CONFIGURE\n    error --> init : SET_KEY\n    ready --> ready : LOAD\n    ready --> querying : QUERY\n    ready --> querying : EXPLAIN [blueprint is not None]\n    ready --> querying : VALIDATE [blueprint is not None]\n    ready --> querying : SUGGEST [blueprint is not None]\n    querying --> ready : DONE [error is None]\n    querying --> error : DONE [error is not None]\n    ready --> ready : CLEAR\n    error --> ready : RETRY [api_key is not None]", "blueprintPath": "llm_assistant/llm_assistant.json", "dir": "llm_assistant"}, {"id": "logic_decoder", "name": "Python Logic Decoder", "description": "Decode Python files into L++ blueprints by analyzing AST, control flow, and import semantics", "version": "1.0.0", "stats": {"statesCount": 7, "transitionsCount": 10, "gatesCount": 6, "actionsCount": 13, "entryState": "idle", "terminalStates": []}, "states": ["idle", "parsing", "analyzing", "inferring", "generating", "complete", "error"], "visualizations": {"stateGraph": "logic_decoder/results/logic_decoder_graph.html", "logicGraph": "logic_decoder/results/logic_decoder_logic_graph.html", "functionsGraph": "logic_decoder/results/logic_decoder_functions.html", "mermaidDiagram": "logic_decoder/results/logic_decoder_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: Python Logic Decoder\n    [*] --> idle\n    idle --> parsing : DECODE\n    parsing --> analyzing : AUTO\n    analyzing --> inferring : AUTO\n    inferring --> generating : AUTO\n    generating --> complete : AUTO\n    parsing --> error : ERROR\n    analyzing --> error : ERROR\n    inferring --> error : ERROR\n    complete --> idle : RESET\n    error --> idle : RESET", "blueprintPath": "logic_decoder/logic_decoder.json", "dir": "logic_decoder"}, {"id": "research_scraper", "name": "Research Scraper", "description": "Scrape academic papers from arXiv, Semantic Scholar, and web", "version": "1.0.1", "stats": {"statesCount": 3, "transitionsCount": 11, "gatesCount": 5, "actionsCount": 15, "entryState": "idle", "terminalStates": []}, "states": ["idle", "hasResults", "error"], "visualizations": {"stateGraph": "research_scraper/results/research_scraper_graph.html", "logicGraph": "research_scraper/results/research_scraper_logic_graph.html", "functionsGraph": "research_scraper/results/research_scraper_functions.html", "mermaidDiagram": "research_scraper/results/research_scraper_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: Research Scraper\n    [*] --> idle\n    idle --> hasResults : SEARCH_ARXIV\n    idle --> hasResults : SEARCH_SCHOLAR\n    idle --> hasResults : SEARCH_WEB\n    hasResults --> hasResults : SELECT\n    hasResults --> hasResults : SEARCH_ARXIV\n    hasResults --> hasResults : SEARCH_SCHOLAR\n    hasResults --> hasResults : SEARCH_WEB\n    hasResults --> idle : CLEAR\n    error --> idle : RETRY\n    idle --> error : ERROR [error is not None]\n    hasResults --> error : ERROR [error is not None]", "blueprintPath": "research_scraper/research_scraper.json", "dir": "research_scraper"}, {"id": "schema_migrator", "name": "L++ Schema Migrator", "description": "Tool for migrating L++ blueprints between schema versions", "version": "1.0.0", "stats": {"statesCount": 9, "transitionsCount": 29, "gatesCount": 9, "actionsCount": 20, "entryState": "idle", "terminalStates": []}, "states": ["idle", "loaded", "planning", "planned", "migrating", "validating", "complete", "batch_mode", "error"], "visualizations": {"stateGraph": "schema_migrator/results/schema_migrator_graph.html", "logicGraph": "schema_migrator/results/schema_migrator_logic_graph.html", "functionsGraph": "schema_migrator/results/schema_migrator_functions.html", "mermaidDiagram": "schema_migrator/results/schema_migrator_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Schema Migrator\n    [*] --> idle\n    idle --> loaded : LOAD [blueprint is None]\n    idle --> error : LOAD_FAILED\n    loaded --> loaded : LOAD\n    complete --> loaded : LOAD\n    loaded --> planning : SET_TARGET [blueprint is not None]\n    loaded --> planning : MIGRATE_LATEST [blueprint is not None]\n    planning --> planned : PLAN\n    loaded --> planned : PLAN_TO [blueprint is not None]\n    loaded --> planned : PLAN_LATEST [blueprint is not None]\n    planned --> complete : DRY_RUN [migration_plan is not None ...]\n    planned --> migrating : EXECUTE [migration_plan is not None ...]\n    migrating --> validating : VALIDATE [migrated_blueprint is not None]\n    migrating --> validating : AUTO_CONTINUE [migrated_blueprint is not None]\n    validating --> complete : FINALIZE [validation_result is not No...]\n    validating --> complete : FORCE_FINALIZE\n    loaded --> complete : MIGRATE_ALL [blueprint is not None]\n    loaded --> complete : PREVIEW_ALL [blueprint is not None]\n    complete --> complete : EXPORT [migrated_blueprint is not None]\n    idle --> batch_mode : BATCH\n    idle --> batch_mode : BATCH_TO\n    batch_mode --> complete : RUN_BATCH [batch_paths is not None and...]\n    planned --> loaded : BACK\n    complete --> loaded : BACK\n    planned --> planning : REPLAN\n    loaded --> idle : UNLOAD\n    complete --> idle : UNLOAD\n    planned --> idle : UNLOAD\n    error --> idle : CLEAR\n    error --> loaded : RETRY [blueprint is not None]", "blueprintPath": "schema_migrator/schema_migrator.json", "dir": "schema_migrator"}, {"id": "scholar_chat", "name": "Scholar Chatbot", "description": "LLM-powered research assistant with deep search capabilities", "version": "1.0.0", "stats": {"statesCount": 6, "transitionsCount": 13, "gatesCount": 8, "actionsCount": 12, "entryState": "idle", "terminalStates": []}, "states": ["idle", "searching", "reviewing", "analyzing", "chatting", "error"], "visualizations": {"stateGraph": "scholar_chat/results/scholar_chat_graph.html", "logicGraph": "scholar_chat/results/scholar_chat_logic_graph.html", "functionsGraph": "scholar_chat/results/scholar_chat_functions.html", "mermaidDiagram": "scholar_chat/results/scholar_chat_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: Scholar Chatbot\n    [*] --> idle\n    idle --> idle : INIT\n    idle --> searching : SEARCH\n    searching --> reviewing : DONE [error is None]\n    searching --> error : DONE [error is not None]\n    reviewing --> searching : SEARCH\n    reviewing --> analyzing : SELECT\n    analyzing --> chatting : DONE [error is None]\n    analyzing --> error : DONE [error is not None]\n    chatting --> chatting : ASK\n    chatting --> searching : SEARCH\n    chatting --> reviewing : BACK\n    reviewing --> idle : RESET\n    error --> idle : RETRY", "blueprintPath": "scholar_chat/scholar_chat.json", "dir": "scholar_chat"}, {"id": "skill_contractor", "name": "Skill Contractor", "description": "Autonomous L++ skill generator. Continuously iterates on logic to achieve coding targets with self-evaluation. Two-phase workflow: (1) Blueprint phase generates and validates JSON until TLC passes, (2) Implementation phase generates compute+interactive with auto-sanitization (fixes literal newlines in strings) and enhanced validation (content checks, AST parsing, import validation, structure checks). Features auto-correction of schema issues with logging. Enforces L++ schema v0.1.2 and build_rules.md for skill creation.", "version": "1.7.0", "stats": {"statesCount": 13, "transitionsCount": 59, "gatesCount": 42, "actionsCount": 30, "entryState": "idle", "terminalStates": ["complete"]}, "states": ["idle", "planning", "executing", "parsing", "correcting", "stepping", "validating", "eval_interactive", "evaluating", "refining", "reviewing", "complete", "error"], "visualizations": {"stateGraph": "skill_contractor/results/skill_contractor_graph.html", "logicGraph": "skill_contractor/results/skill_contractor_logic_graph.html", "functionsGraph": "skill_contractor/results/skill_contractor_functions.html", "mermaidDiagram": "skill_contractor/results/skill_contractor_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: Skill Contractor\n    [*] --> idle\n    idle --> idle : START\n    idle --> planning : SUBMIT [target is not None and len(...]\n    planning --> executing : DONE [plan is not None && error is None]\n    planning --> error : DONE [error is not None]\n    executing --> parsing : DONE [raw_output is not None and ... && error is None]\n    executing --> error : DONE [error is not None]\n    parsing --> correcting : DONE [parsed_output is not None a... && corrections is not None and... && step_index + 1 < step_count]\n    parsing --> stepping : DONE [parsed_output is not None a... && corrections is None or len(... && step_index + 1 < step_count]\n    parsing --> correcting : DONE [parsed_output is not None a... && corrections is not None and... && step_index + 1 >= step_count && is_lpp_target == True && phase == \"blueprint\"]\n    parsing --> validating : DONE [parsed_output is not None a... && corrections is None or len(... && step_index + 1 >= step_count && is_lpp_target == True && phase == \"blueprint\"]\n    parsing --> correcting : DONE [parsed_output is not None a... && corrections is not None and... && step_index + 1 >= step_count && is_lpp_target == True && phase == \"implementation\"]\n    parsing --> validating : DONE [parsed_output is not None a... && corrections is None or len(... && step_index + 1 >= step_count && is_lpp_target == True && phase == \"implementation\"]\n    parsing --> correcting : DONE [parsed_output is not None a... && corrections is not None and... && step_index + 1 >= step_count && is_lpp_target != True]\n    parsing --> evaluating : DONE [parsed_output is not None a... && corrections is None or len(... && step_index + 1 >= step_count && is_lpp_target != True]\n    correcting --> stepping : DONE [corrections_approved == True && step_index + 1 < step_count]\n    correcting --> validating : DONE [corrections_approved == True && step_index + 1 >= step_count && is_lpp_target == True && phase == \"blueprint\"]\n    correcting --> validating : DONE [corrections_approved == True && step_index + 1 >= step_count && is_lpp_target == True && phase == \"implementation\"]\n    correcting --> evaluating : DONE [corrections_approved == True && step_index + 1 >= step_count && is_lpp_target != True]\n    parsing --> executing : DONE [parse_error is not None && (repair_attempts is None or...]\n    parsing --> error : DONE [parse_error is not None && (repair_attempts is not Non...]\n    stepping --> executing : DONE [step_index + 1 < step_count && error is None]\n    stepping --> validating : DONE [step_index + 1 >= step_count && error is None && is_lpp_target == True && phase == \"blueprint\"]\n    stepping --> validating : DONE [step_index + 1 >= step_count && error is None && is_lpp_target == True && phase == \"implementation\"]\n    stepping --> evaluating : DONE [step_index + 1 >= step_count && error is None && is_lpp_target != True]\n    stepping --> error : DONE [error is not None]\n    validating --> planning : DONE [blueprint_validated is not ... && error is None && phase == \"blueprint\"]\n    validating --> eval_interactive : DONE [lpp_validated is not None a... && error is None && phase == \"implementation\"]\n    eval_interactive --> evaluating : DONE [interactive_valid is not No... && error is None]\n    eval_interactive --> refining : DONE [interactive_valid is None o... && iteration < max_iterations]\n    eval_interactive --> evaluating : DONE [interactive_valid is None o... && iteration >= max_iterations]\n    eval_interactive --> error : DONE [error is not None]\n    validating --> refining : DONE [blueprint_validated is None... && iteration < max_iterations && phase == \"blueprint\"]\n    validating --> refining : DONE [is_lpp_target == True and (... && iteration < max_iterations && phase == \"implementation\"]\n    validating --> evaluating : DONE [is_lpp_target == True and (... && iteration >= max_iterations]\n    validating --> error : DONE [error is not None]\n    evaluating --> complete : DONE [is_satisfied == True && is_lpp_target != True or lp... && error is None]\n    evaluating --> refining : DONE [is_satisfied == True && is_lpp_target == True and (... && iteration < max_iterations && error is None]\n    evaluating --> refining : DONE [is_satisfied == False or is... && iteration < max_iterations && error is None]\n    evaluating --> complete : DONE [iteration >= max_iterations && is_lpp_target != True or lp...]\n    evaluating --> error : DONE [iteration >= max_iterations && is_lpp_target == True and (...]\n    evaluating --> error : DONE [error is not None]\n    refining --> planning : DONE [error is None]\n    refining --> error : DONE [error is not None]\n    error --> executing : DONE [(step_error_count is None o... && plan is not None]\n    error --> refining : DONE [plan is None or step_count ... && iteration < max_iterations]\n    error --> complete : DONE [plan is None or step_count ... && iteration >= max_iterations]\n    error --> reviewing : DONE [(step_error_count is not No...]\n    error --> complete : DONE [iteration >= max_iterations && plan is not None]\n    reviewing --> evaluating : DONE [failed_steps is not None an...]\n    reviewing --> stepping : DONE [review_decision == \"skip\" && step_index + 1 < step_count]\n    reviewing --> evaluating : DONE [review_decision == \"skip\" && step_index + 1 >= step_count]\n    reviewing --> refining : DONE [review_decision == \"replan\" && iteration < max_iterations]\n    reviewing --> evaluating : DONE [review_decision == \"replan\" && iteration >= max_iterations]\n    reviewing --> stepping : DONE [review_decision is None or ... && step_index + 1 < step_count]\n    reviewing --> evaluating : DONE [review_decision is None or ... && step_index + 1 >= step_count]\n    reviewing --> refining : DONE [plan is None or step_count ... && iteration < max_iterations]\n    reviewing --> complete : DONE [plan is None or step_count ... && iteration >= max_iterations]\n    error --> idle : RETRY\n    planning --> idle : RESET\n    error --> idle : RESET\n    executing --> idle : RESET\n    complete --> idle : RESET\n    refining --> idle : RESET\n    reviewing --> idle : RESET\n    parsing --> idle : RESET\n    evaluating --> idle : RESET\n    stepping --> idle : RESET\n    correcting --> idle : RESET\n    validating --> idle : RESET\n    eval_interactive --> idle : RESET\n    complete --> [*]", "blueprintPath": "skill_contractor/skill_contractor.json", "dir": "skill_contractor"}, {"id": "skill_registry", "name": "Skill Registry", "description": "Scan and document L++ skills for agent blueprint generation", "version": "1.0.0", "stats": {"statesCount": 4, "transitionsCount": 11, "gatesCount": 6, "actionsCount": 8, "entryState": "idle", "terminalStates": []}, "states": ["idle", "scanned", "viewing", "error"], "visualizations": {"stateGraph": "skill_registry/results/skill_registry_graph.html", "logicGraph": "skill_registry/results/skill_registry_logic_graph.html", "functionsGraph": "skill_registry/results/skill_registry_functions.html", "mermaidDiagram": "skill_registry/results/skill_registry_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: Skill Registry\n    [*] --> idle\n    idle --> scanned : SCAN\n    scanned --> scanned : SCAN\n    scanned --> viewing : SELECT\n    viewing --> scanned : BACK\n    viewing --> viewing : SELECT\n    scanned --> scanned : EXPORT\n    viewing --> viewing : EXPORT\n    scanned --> idle : RESET\n    error --> idle : RETRY\n    idle --> error : ERROR [error is not None]\n    scanned --> error : ERROR [error is not None]", "blueprintPath": "skill_registry/skill_registry.json", "dir": "skill_registry"}, {"id": "task_orchestrator", "name": "Hierarchical Task Orchestrator", "description": "Hierarchical feature analysis with atomic compute units.", "version": "2.0.0", "stats": {"statesCount": 11, "transitionsCount": 28, "gatesCount": 15, "actionsCount": 14, "entryState": "idle", "terminalStates": ["complete"]}, "states": ["idle", "analyzing", "expanding", "planning", "building", "executing", "traversing", "reflecting", "evaluating", "complete", "error"], "visualizations": {"stateGraph": "task_orchestrator/results/task_orchestrator_graph.html", "logicGraph": "task_orchestrator/results/task_orchestrator_logic_graph.html", "functionsGraph": "task_orchestrator/results/task_orchestrator_functions.html", "mermaidDiagram": "task_orchestrator/results/task_orchestrator_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: Hierarchical Task Orchestrator\n    [*] --> idle\n    idle --> idle : START\n    idle --> analyzing : SUBMIT [True]\n    analyzing --> expanding : DONE [feature_tree is not None && depth < max_depth and is_le... && error is None]\n    analyzing --> planning : DONE [feature_tree is not None && is_leaf == True or depth >=... && error is None]\n    analyzing --> error : DONE [error is not None]\n    expanding --> expanding : DONE [depth < max_depth and is_le... && error is None]\n    expanding --> planning : DONE [is_leaf == True or depth >=... && error is None]\n    expanding --> error : DONE [error is not None]\n    planning --> building : DONE [tools_pending is not None a... && error is None]\n    planning --> executing : DONE [tools_pending is None or to... && error is None]\n    planning --> error : DONE [error is not None]\n    building --> building : DONE [tools_pending is not None a... && error is None]\n    building --> executing : DONE [tools_pending is None or to... && error is None]\n    building --> error : DONE [error is not None]\n    executing --> traversing : DONE [exec_count < leaf_count && error is None]\n    executing --> reflecting : DONE [exec_count >= leaf_count && error is None]\n    executing --> error : DONE [error is not None]\n    traversing --> building : DONE [tools_pending is not None a... && error is None]\n    traversing --> executing : DONE [tools_pending is None or to... && error is None]\n    traversing --> error : DONE [error is not None]\n    reflecting --> evaluating : DONE [error is None]\n    reflecting --> error : DONE [error is not None]\n    evaluating --> complete : DONE [is_complete == True && error is None]\n    evaluating --> expanding : DONE [is_complete is None or is_c... && iteration < max_iterations && error is None]\n    evaluating --> complete : DONE [iteration >= max_iterations]\n    evaluating --> error : DONE [error is not None]\n    error --> idle : RETRY\n    analyzing --> idle : RESET\n    error --> idle : RESET\n    expanding --> idle : RESET\n    planning --> idle : RESET\n    building --> idle : RESET\n    executing --> idle : RESET\n    reflecting --> idle : RESET\n    traversing --> idle : RESET\n    evaluating --> idle : RESET\n    complete --> idle : RESET\n    complete --> [*]", "blueprintPath": "task_orchestrator/task_orchestrator.json", "dir": "task_orchestrator"}, {"id": "test_generator", "name": "L++ Test Case Generator", "description": "Auto-generates test cases from L++ blueprints for comprehensive testing", "version": "1.0.0", "stats": {"statesCount": 6, "transitionsCount": 19, "gatesCount": 10, "actionsCount": 18, "entryState": "idle", "terminalStates": []}, "states": ["idle", "loaded", "analyzing", "generating", "complete", "error"], "visualizations": {"stateGraph": "test_generator/results/test_generator_graph.html", "logicGraph": "test_generator/results/test_generator_logic_graph.html", "functionsGraph": "test_generator/results/test_generator_functions.html", "mermaidDiagram": "test_generator/results/test_generator_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Test Case Generator\n    [*] --> idle\n    idle --> loaded : LOAD [blueprint is None]\n    loaded --> loaded : LOAD\n    complete --> loaded : LOAD\n    loaded --> analyzing : ANALYZE [blueprint is not None]\n    analyzing --> generating : GENERATE [paths is not None and len(p...]\n    loaded --> generating : GENERATE_ALL [blueprint is not None]\n    generating --> complete : COMBINE [path_tests is not None]\n    generating --> complete : AUTO [path_tests is not None]\n    complete --> complete : FORMAT_JSON [all_tests is not None and l...]\n    complete --> complete : FORMAT_PYTEST [all_tests is not None and l...]\n    complete --> complete : EXPORT [formatted_output is not None]\n    complete --> complete : COVERAGE [all_tests is not None and l...]\n    complete --> idle : RESET\n    error --> idle : RESET\n    idle --> error : ERROR\n    analyzing --> error : ERROR\n    generating --> error : ERROR\n    analyzing --> loaded : BACK\n    complete --> loaded : BACK", "blueprintPath": "test_generator/test_generator.json", "dir": "test_generator"}, {"id": "tlaps_seal", "name": "TLAPS Seal Certifier", "description": "Certify L++ blueprints with formal verification - transition from empirical to axiomatic certainty", "version": "1.0.0", "stats": {"statesCount": 10, "transitionsCount": 14, "gatesCount": 8, "actionsCount": 12, "entryState": "idle", "terminalStates": ["certified", "rejected"]}, "states": ["idle", "loading", "auditing", "generating_tla", "tlc_verifying", "tlc_verified", "tlaps_proving", "certified", "rejected", "error"], "visualizations": {"stateGraph": "tlaps_seal/results/tlaps_seal_graph.html", "logicGraph": "tlaps_seal/results/tlaps_seal_logic_graph.html", "functionsGraph": "tlaps_seal/results/tlaps_seal_functions.html", "mermaidDiagram": "tlaps_seal/results/tlaps_seal_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: TLAPS Seal Certifier\n    [*] --> idle\n    idle --> loading : CERTIFY\n    loading --> auditing : AUTO [error is None]\n    auditing --> generating_tla : AUTO [blueprint is not None && error is None]\n    generating_tla --> tlc_verifying : AUTO [trinityAudit is not None an... && flangeAudit is not None and... && error is None]\n    tlc_verifying --> tlc_verified : AUTO [tlaSpec is not None && error is None]\n    tlc_verified --> tlaps_proving : PROVE [tlcResult is not None and t...]\n    tlaps_proving --> certified : AUTO [error is None]\n    tlc_verified --> certified : SEAL_TLC [tlcResult is not None and t...]\n    auditing --> rejected : AUTO [error is not None]\n    tlc_verifying --> rejected : AUTO [error is not None]\n    tlaps_proving --> rejected : AUTO [error is not None]\n    idle --> error : ERROR [error is not None]\n    loading --> error : ERROR [error is not None]\n    auditing --> error : ERROR [error is not None]\n    generating_tla --> error : ERROR [error is not None]\n    rejected --> error : ERROR [error is not None]\n    tlc_verifying --> error : ERROR [error is not None]\n    tlc_verified --> error : ERROR [error is not None]\n    certified --> error : ERROR [error is not None]\n    tlaps_proving --> error : ERROR [error is not None]\n    error --> idle : RESET\n    loading --> idle : RESET\n    auditing --> idle : RESET\n    generating_tla --> idle : RESET\n    rejected --> idle : RESET\n    tlc_verifying --> idle : RESET\n    tlc_verified --> idle : RESET\n    certified --> idle : RESET\n    tlaps_proving --> idle : RESET\n    certified --> certified : VIEW [tlapsResult is not None and...]\n    certified --> [*]\n    rejected --> [*]", "blueprintPath": "tlaps_seal/tlaps_seal.json", "dir": "tlaps_seal"}, {"id": "visualizer", "name": "L++ Blueprint Visualizer", "description": "L++ visualizing itself - a meta-example demonstrating self-reference", "version": "1.1.0", "stats": {"statesCount": 4, "transitionsCount": 26, "gatesCount": 18, "actionsCount": 26, "entryState": "idle", "terminalStates": []}, "states": ["idle", "loaded", "viewing", "error"], "visualizations": {"stateGraph": "visualizer/results/visualizer_graph.html", "logicGraph": "visualizer/results/visualizer_logic_graph.html", "functionsGraph": "visualizer/results/visualizer_functions.html", "mermaidDiagram": "visualizer/results/visualizer_diagram.html"}, "mermaidContent": "stateDiagram-v2\n    %% L++ State Diagram: L++ Blueprint Visualizer\n    [*] --> idle\n    idle --> loaded : LOAD\n    idle --> error : LOAD_FAILED\n    loaded --> loaded : LOAD\n    viewing --> loaded : LOAD\n    loaded --> viewing : VIEW\n    viewing --> viewing : VIEW_GRAPH\n    viewing --> viewing : VIEW_TABLE\n    viewing --> viewing : VIEW_MERMAID\n    viewing --> viewing : SELECT\n    viewing --> viewing : DESELECT\n    viewing --> viewing : ZOOM_IN\n    viewing --> viewing : ZOOM_OUT\n    viewing --> viewing : TOGGLE_GATES\n    viewing --> viewing : TOGGLE_ACTIONS\n    viewing --> loaded : BACK\n    loaded --> idle : UNLOAD\n    viewing --> idle : UNLOAD\n    loaded --> loaded : EXPORT_README\n    viewing --> viewing : EXPORT_README\n    error --> idle : CLEAR\n    idle --> loaded : LOAD_TREE\n    loaded --> loaded : SET_TREE\n    loaded --> viewing : VIEW_TREE [tree is not None]\n    viewing --> viewing : VIEW_TREE [tree is not None]\n    viewing --> viewing : VIEW_TREE_MERMAID [tree is not None]\n    viewing --> loaded : UNLOAD_TREE", "blueprintPath": "visualizer/visualizer.json", "dir": "visualizer"}];
const categories = {"Blueprint Tools": ["blueprint_composer", "blueprint_debugger", "blueprint_differ", "blueprint_linter", "blueprint_playground", "blueprint_registry"], "Code Analysis": ["coverage_analyzer", "function_decoder", "legacy_extractor", "logic_decoder"], "Documentation": ["doc_generator"], "LLM Integration": ["llm_assistant"], "Migration & Schema": ["schema_migrator"], "Orchestration": ["event_simulator", "execution_tracer", "task_orchestrator"], "Registry & Discovery": ["skill_contractor", "skill_registry"], "Research": ["research_scraper", "scholar_chat"], "Testing & Quality": ["compliance_checker", "test_generator"], "Verification": ["tlaps_seal"], "Visualization": ["graph_visualizer", "visualizer"], "Other Tools": ["dashboard"]};
const stats = {"toolCount": 26, "totalStates": 174, "totalTransitions": 597, "totalGates": 295, "totalActions": 449, "withVisualizations": 26};

// Current state
let currentFilter = 'all';
let currentCategory = null;
let searchQuery = '';
let expandedCards = new Set();

// Render stats bar
function renderStats() {
    const bar = document.getElementById('stats-bar');
    bar.innerHTML = `
        <div class="stat-item">
            <div class="stat-value">${stats.toolCount || 0}</div>
            <div class="stat-label">Total Tools</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">${stats.totalStates || 0}</div>
            <div class="stat-label">States</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">${stats.totalTransitions || 0}</div>
            <div class="stat-label">Transitions</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">${stats.totalGates || 0}</div>
            <div class="stat-label">Gates</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">${stats.totalActions || 0}</div>
            <div class="stat-label">Actions</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">${stats.withVisualizations || 0}</div>
            <div class="stat-label">With Visualizations</div>
        </div>
    `;
}

// Render categories sidebar
function renderCategories() {
    const list = document.getElementById('categories-list');
    list.innerHTML = `
        <div class="category-item ${currentCategory === null ? 'active' : ''}" onclick="selectCategory(null)">
            <span>All Tools</span>
            <span class="category-count">${tools.length}</span>
        </div>
    `;

    Object.entries(categories).forEach(([cat, toolIds]) => {
        list.innerHTML += `
            <div class="category-item ${currentCategory === cat ? 'active' : ''}" onclick="selectCategory('${cat}')">
                <span>${cat}</span>
                <span class="category-count">${toolIds.length}</span>
            </div>
        `;
    });
}

// Render tools grid
function renderTools() {
    const grid = document.getElementById('tools-grid');
    const title = document.getElementById('content-title');

    let filteredTools = tools;

    // Apply category filter
    if (currentCategory) {
        const catToolIds = categories[currentCategory] || [];
        filteredTools = filteredTools.filter(t => catToolIds.includes(t.id));
        title.textContent = currentCategory;
    } else {
        title.textContent = 'All Tools';
    }

    // Apply search filter
    if (searchQuery) {
        const q = searchQuery.toLowerCase();
        filteredTools = filteredTools.filter(t =>
            t.name.toLowerCase().includes(q) ||
            t.description.toLowerCase().includes(q) ||
            t.id.toLowerCase().includes(q)
        );
    }

    // Apply type filter
    if (currentFilter === 'with-viz') {
        filteredTools = filteredTools.filter(t =>
            Object.values(t.visualizations).some(v => v !== null)
        );
    } else if (currentFilter === 'blueprint') {
        filteredTools = filteredTools.filter(t => t.id.includes('blueprint'));
    }

    if (filteredTools.length === 0) {
        grid.innerHTML = `
            <div class="empty-state">
                <h3>No tools found</h3>
                <p>Try adjusting your search or filters</p>
            </div>
        `;
        return;
    }

    grid.innerHTML = filteredTools.map(tool => renderToolCard(tool)).join('');

    // Initialize mermaid for expanded cards
    expandedCards.forEach(id => {
        const card = document.querySelector(`[data-tool-id="${id}"]`);
        if (card && card.classList.contains('expanded')) {
            initMermaid(id);
        }
    });
}

function renderToolCard(tool) {
    const isExpanded = expandedCards.has(tool.id);
    const stats = tool.stats || {};
    const vizs = tool.visualizations || {};

    return `
        <div class="tool-card ${isExpanded ? 'expanded' : ''}" data-tool-id="${tool.id}">
            <div class="card-header" onclick="toggleCard('${tool.id}')">
                <div class="card-title">
                    <h3>${tool.name}</h3>
                    <span class="card-version">${tool.version || ''}</span>
                </div>
                <div class="card-description">${tool.description || 'No description available'}</div>
            </div>

            <div class="card-stats">
                <div class="card-stat">
                    <div class="card-stat-value">${stats.statesCount || 0}</div>
                    <div class="card-stat-label">States</div>
                </div>
                <div class="card-stat">
                    <div class="card-stat-value">${stats.transitionsCount || 0}</div>
                    <div class="card-stat-label">Transitions</div>
                </div>
                <div class="card-stat">
                    <div class="card-stat-value">${stats.gatesCount || 0}</div>
                    <div class="card-stat-label">Gates</div>
                </div>
                <div class="card-stat">
                    <div class="card-stat-value">${stats.actionsCount || 0}</div>
                    <div class="card-stat-label">Actions</div>
                </div>
            </div>

            <div class="card-links">
                <a class="viz-link state ${vizs.stateGraph ? '' : 'disabled'}"
                   href="${vizs.stateGraph || '#'}" target="_blank">State Graph</a>
                <a class="viz-link logic ${vizs.logicGraph ? '' : 'disabled'}"
                   href="${vizs.logicGraph || '#'}" target="_blank">Logic Graph</a>
                <a class="viz-link functions ${vizs.functionsGraph ? '' : 'disabled'}"
                   href="${vizs.functionsGraph || '#'}" target="_blank">Functions</a>
                <a class="viz-link mermaid ${vizs.mermaidDiagram ? '' : 'disabled'}"
                   href="${vizs.mermaidDiagram || '#'}" target="_blank">Mermaid</a>
            </div>

            <div class="card-details">
                <div class="detail-section">
                    <h4>States</h4>
                    <div class="states-list">
                        ${(tool.states || []).map(s => `
                            <span class="state-tag ${s === stats.entryState ? 'entry' : ''} ${(stats.terminalStates || []).includes(s) ? 'terminal' : ''}">${s}</span>
                        `).join('')}
                    </div>
                </div>

                ${tool.mermaidContent ? `
                    <div class="detail-section">
                        <h4>State Diagram</h4>
                        <div class="mermaid-preview">
                            <pre class="mermaid" id="mermaid-${tool.id}">${escapeHtml(tool.mermaidContent)}</pre>
                        </div>
                    </div>
                ` : ''}

                <div class="detail-section">
                    <h4>Files</h4>
                    <div style="font-size: 11px; color: #666;">
                        <div>Blueprint: <a href="${tool.blueprintPath}" target="_blank" style="color: #00d4ff;">${tool.blueprintPath}</a></div>
                        <div>Directory: ${tool.dir}</div>
                    </div>
                </div>
            </div>
        </div>
    `;
}

function escapeHtml(str) {
    if (!str) return '';
    return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
}

function toggleCard(toolId) {
    if (expandedCards.has(toolId)) {
        expandedCards.delete(toolId);
    } else {
        expandedCards.add(toolId);
        setTimeout(() => initMermaid(toolId), 100);
    }
    renderTools();
}

function initMermaid(toolId) {
    const elem = document.getElementById(`mermaid-${toolId}`);
    if (elem && !elem.dataset.processed) {
        elem.dataset.processed = 'true';
        try {
            mermaid.init(undefined, elem);
        } catch(e) {
            console.warn('Mermaid init failed for', toolId, e);
        }
    }
}

function selectCategory(cat) {
    currentCategory = cat;
    renderCategories();
    renderTools();
}

function setFilter(filter) {
    currentFilter = filter;
    document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.filter === filter);
    });
    renderTools();
}

function filterTools() {
    searchQuery = document.getElementById('search-input').value;
    renderTools();
}

// Initialize
renderStats();
renderCategories();
renderTools();
</script>
</body>
</html>