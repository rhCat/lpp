stateDiagram-v2
    %% L++ State Diagram: Hierarchical Task Orchestrator
    [*] --> idle
    idle --> idle : START
    idle --> analyzing : SUBMIT [True]
    analyzing --> expanding : DONE [feature_tree is not None && depth < max_depth and is_le... && error is None]
    analyzing --> planning : DONE [feature_tree is not None && is_leaf == True or depth >=... && error is None]
    expanding --> expanding : DONE [depth < max_depth and is_le... && error is None]
    expanding --> planning : DONE [is_leaf == True or depth >=... && error is None]
    planning --> building : DONE [tools_pending is not None a... && error is None]
    planning --> executing : DONE [tools_pending is None or to... && error is None]
    building --> building : DONE [tools_pending is not None a... && error is None]
    building --> executing : DONE [tools_pending is None or to... && error is None]
    executing --> traversing : DONE [exec_count < leaf_count && error is None]
    executing --> reflecting : DONE [exec_count >= leaf_count && error is None]
    traversing --> building : DONE [tools_pending is not None a... && error is None]
    traversing --> executing : DONE [tools_pending is None or to... && error is None]
    reflecting --> evaluating : DONE [error is None]
    evaluating --> complete : DONE [is_complete == True && error is None]
    evaluating --> expanding : DONE [is_complete is None or is_c... && iteration < max_iterations && error is None]
    evaluating --> complete : DONE [iteration >= max_iterations]
    analyzing --> idle : RESET
    expanding --> idle : RESET
    planning --> idle : RESET
    building --> idle : RESET
    executing --> idle : RESET
    reflecting --> idle : RESET
    traversing --> idle : RESET
    evaluating --> idle : RESET
    complete --> idle : RESET
    complete --> [*]